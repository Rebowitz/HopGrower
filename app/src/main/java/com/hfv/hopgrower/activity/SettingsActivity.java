package com.hfv.hopgrower.activity;import android.content.SharedPreferences;import android.content.SharedPreferences.OnSharedPreferenceChangeListener;import android.os.Bundle;import android.preference.EditTextPreference;import android.preference.Preference;import android.preference.PreferenceActivity;import android.preference.PreferenceCategory;import android.view.View;import android.widget.RadioButton;import com.hfv.hopgrower.R;/** * @author Robert B. Andrews *         RBA Internet Services, Inc. Strasburg, Virginia *         Copyright 2014  All Rights Reserved */public class SettingsActivity extends PreferenceActivity implements OnSharedPreferenceChangeListener {    @SuppressWarnings("deprecation")    @Override    protected void onCreate(Bundle savedInstanceState) {        // TODO Auto-generated method stub        super.onCreate(savedInstanceState);        addPreferencesFromResource(R.xml.hopgrower_prefs);//		getSupportActionBar().setTitle(R.string.app_settings);         // show the current value in the settings screen        for (int i = 0; i < getPreferenceScreen().getPreferenceCount(); i++) {            initSummary(getPreferenceScreen().getPreference(i));        }    }    @Override    protected void onResume() {        super.onResume();        getPreferenceScreen().getSharedPreferences()                .registerOnSharedPreferenceChangeListener(this);    }    @Override    protected void onPause() {        super.onPause();        getPreferenceScreen().getSharedPreferences()                .unregisterOnSharedPreferenceChangeListener(this);    }    @Override    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences,                                          String key) {        updatePreferences(findPreference(key));    }    private void initSummary(Preference p) {        if (p instanceof PreferenceCategory) {            PreferenceCategory cat = (PreferenceCategory) p;            for (int i = 0; i < cat.getPreferenceCount(); i++) {                initSummary(cat.getPreference(i));            }        } else {            updatePreferences(p);        }    }    private void updatePreferences(Preference p) {        if (p instanceof EditTextPreference) {            EditTextPreference editTextPref = (EditTextPreference) p;            p.setSummary(editTextPref.getText());        }    }    public void onAppUpdateRadioButtonClick(View view) {        // Is the button now checked?        boolean checked = ((RadioButton) view).isChecked();        // Check which radio button was clicked        switch (view.getId()) {            case R.id.monthly:                if (checked)                    // Ninjas rule                    break;            case R.id.twoweeks:                if (checked)                    // Pirates are the best                    break;            case R.id.weekly:                if (checked)                    // Ninjas rule                    break;        }    }}